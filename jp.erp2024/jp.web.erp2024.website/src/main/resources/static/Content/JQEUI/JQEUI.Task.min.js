(function(n,t,i){var u,r;parseFloat(jQuery.fn.jquery)<2&&(u=n.MutationObserver||n.WebKitMutationObserver||n.MozMutationObserver||function(){return{observe:function(){}}},new u(function(n){for(var r,t,i=0,u=n.length;i<u;i++)r=n[i],r.addedNodes.length&&(t=r.addedNodes[0]).tagName=="SCRIPT"&&t.src&&t.src.indexOf("jQuery")>-1&&(t.onerror=function(){return this.onload(),!1})}).observe(document.getElementsByTagName("head")[0],{childList:!0,subtree:!1,attributes:!1,characterData:!1}));r={args:[],onRun:function(){},onSuccess:null,onError:null,onComplete:null,onProgress:null,interval:0,filter:function(n,t){return n&&t=="success"},dialog:{easyUI:!1,options:{},autoClose:!1,mask:!0,onCreate:function(){},onClose:null,formatter:function(n){var t=n.data;return t||(t={Message:"\u672a\u77e5\u9519\u8bef\uff01"}),t.Message||t.message||t},message:!0}};i.task=function(){var p=null,s=0,u={},h=0,e={success:0,error:0,leave:s},l=null,n=t.Deferred(),b=[],w=0,a;if(arguments[0]instanceof Array&&typeof arguments[1]=="function")t.extend(!0,u,r,{args:arguments[0],onRun:arguments[1]});else if(typeof arguments[0]=="object")t.extend(!0,u,r,arguments[0]);else throw new TypeError("\u53c2\u6570\u9519\u8bef\uff01");if(s=e.leave=u.args.length,a=function(t){p=u.args[h];l=u.onRun.call(n,p,h);l.index=h;l.item=p;l.always(function(i,r,f){e.leave--;r==="success"&&u.filter.call(n,i,r,f)===!0?e.success++:(r==="error"&&(f=i,i=f.responseJSON||f.responseText||null),r="error",e.error++);b.push(i);n.notify({status:r,total:s,index:f.index,data:i,arg:f.item,progress:e.success+e.error,success:e.success,error:e.error});e.leave<=0?n.resolve({success:e.success,error:e.error,total:s,datas:b}):t?h<s&&n.run():(h++,setTimeout(a,u.interval))})},n.run=u.interval&&u.interval>0?function(){return s&&a(),n}:function(){for(w=u.maxConcurrent;h<s;h++){if(w<=0)break;w--;a(!0)}return n},n.options=function(){return u},u.dialog){var f=u.dialog,o=t("<div><\/div>").addClass("JQEUI-task-dialog"),v=t("<div><\/div>").addClass("JQEUI-task-tip").appendTo(o),y=t("<div class='scrollbar'><\/div>").addClass("JQEUI-task-message").appendTo(o),c=null;f.message===!1&&(y.css("display","none"),o.css("height","auto"));v.html("\u6b63\u5728\u51c6\u5907\u6267\u884c\u4efb\u52a1...");n.progress(function(t){v.html("\u8bf7\u7a0d\u5019\uff0c\u6b63\u5728\u6267\u884c\u4efb\u52a1\uff1a"+t.progress+"/"+t.total+" ...");f.message&&(y.append("<div>"+f.formatter.call(n,t)+"<\/div>"),y[0].scrollTop=y[0].scrollHeight)}).done(function(t){v.html("\u6267\u884c\u5b8c\u6210\u3002<span style='color:#008000'>\u6210\u529f\uff1a"+t.success+"<\/span>\uff0c<span style='color:#f00'>\u5931\u8d25\uff1a"+t.error+"<\/span>");t.error==0&&f.autoClose?n.dialog("close"):v.append('<div class="JQEUI-task-toolbar"><a href="javascript:;" class="JQEUI-task-close"><\/a><\/div>').find(".JQEUI-task-close").click(function(){n.dialog("close")})});n.dialog=function(i){return i==="close"?(f.onClose&&f.onClose.call(n),f.easyUI&&t.easyui?o.dialog("close"):(o.remove(),c&&c.remove())):i==="show"||i==="hide"?(c&&c[i](),o[i]()):o.dialog.apply(o,arguments),n};f.easyUI&&t.easyui?i.dialog(t.extend(!0,{width:350,height:f.message?200:38},f.options,{closable:!1,content:o,border:!1,noheader:!0,modal:f.mask,style:{"border-radius":2}})):(f.mask&&(c=t("<div><\/div>").appendTo(document.body).addClass("JQEUI-task-mask")),o.appendTo(document.body).addClass("JQEUI-task-dialog-n"));f.onCreate&&f.onCreate.call(n,o[0])}return u.onProgress&&n.progress(u.onProgress),n.done(function(t){t.error==0&&u.onSuccess&&u.onSuccess.call(n,t);t.error>0&&u.onError&&u.onError.call(n,t);u.onComplete&&u.onComplete.call(n,t)}),n}})(window,jQuery,window.JQEUI||(window.JQEUI={}))